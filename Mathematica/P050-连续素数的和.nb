(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 12.3' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     11416,        264]
NotebookOptionsPosition[     10695,        242]
NotebookOutlinePosition[     11109,        259]
CellTagsIndexPosition[     11066,        256]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell[BoxData[{
 RowBox[{
  RowBox[{"max", "=", 
   SuperscriptBox["10", "6"]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"start", "=", "1"}], ",", 
      RowBox[{"end", "=", 
       RowBox[{"PrimePi", "[", "max", "]"}]}], ",", 
      RowBox[{"sum", "=", "0"}], ",", 
      RowBox[{"nextsum", "=", "2"}], ",", 
      RowBox[{"len", "=", "0"}], ",", 
      RowBox[{"breaklen", "=", "0"}], ",", 
      RowBox[{"maxsum", "=", "0"}], ",", 
      RowBox[{"maxlen", "=", "0"}]}], "}"}], ",", 
    RowBox[{
     RowBox[{"While", "[", 
      RowBox[{
       RowBox[{"start", "<", "end"}], ",", 
       RowBox[{
        RowBox[{"i", "=", "start"}], ";", " ", 
        RowBox[{"While", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"nextsum", "<", "max"}], "&&", 
           RowBox[{"i", "<", "end"}]}], ",", 
          RowBox[{
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{"PrimeQ", "[", "nextsum", "]"}], ",", 
             RowBox[{
              RowBox[{"sum", "=", "nextsum"}], ";", 
              RowBox[{"len", "+=", "breaklen"}], ";", 
              RowBox[{"breaklen", "=", "0"}], ";", 
              RowBox[{"len", "++"}]}], ",", 
             RowBox[{"breaklen", "++"}]}], "]"}], ";", 
           RowBox[{"i", "++"}], ";", 
           RowBox[{"nextsum", "+=", 
            RowBox[{"Prime", "[", "i", "]"}]}]}]}], "]"}], ";", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"len", ">", "maxlen"}], ",", 
          RowBox[{
           RowBox[{"maxlen", "=", "len"}], ";", 
           RowBox[{"maxsum", "=", "sum"}]}]}], "]"}], ";", 
        RowBox[{"start", "+=", "1"}], ";", 
        RowBox[{"sum", "=", "0"}], ";", 
        RowBox[{"nextsum", "=", 
         RowBox[{"Prime", "[", "start", "]"}]}], ";", 
        RowBox[{"len", "=", "0"}], ";", 
        RowBox[{"breaklen", "=", "0"}]}]}], "]"}], ";", 
     RowBox[{"{", 
      RowBox[{"maxsum", ",", "maxlen"}], "}"}]}]}], "]"}], "//", 
  "Timing"}]}], "Input",
 CellChangeTimes->{{3.8715237776609273`*^9, 3.8715238059510527`*^9}, {
   3.871523848681201*^9, 3.8715238552711096`*^9}, {3.8715240212419777`*^9, 
   3.8715240325325174`*^9}, {3.871524141821006*^9, 3.871524153311172*^9}, {
   3.8715241873304777`*^9, 3.871524188520771*^9}, {3.8715242325309286`*^9, 
   3.8715242326606545`*^9}, {3.8715242988019238`*^9, 3.871524308461007*^9}, {
   3.871524374630791*^9, 3.8715244446611023`*^9}, {3.8715245621509843`*^9, 
   3.871524617900519*^9}, {3.8715246635235167`*^9, 3.8715246820506945`*^9}, {
   3.8715247188294106`*^9, 3.871524755989708*^9}, {3.8715248512595215`*^9, 
   3.871524851559739*^9}, {3.871524922559675*^9, 3.8715249226595507`*^9}, {
   3.8715254109277554`*^9, 3.871525413037761*^9}, {3.871527436049463*^9, 
   3.871527450450491*^9}, {3.871527593251254*^9, 3.8715276124156637`*^9}, {
   3.871530210592473*^9, 3.871530276803432*^9}, 3.8715303256269855`*^9, {
   3.871530370751115*^9, 3.871530411463889*^9}, {3.871530444312549*^9, 
   3.8715304635894747`*^9}, {3.8715316502354975`*^9, 
   3.8715316614428053`*^9}, {3.871531800091921*^9, 3.871531812746706*^9}, {
   3.8715318463279877`*^9, 3.8715318743605204`*^9}, {3.8715320895027757`*^9, 
   3.871532094855074*^9}, {3.8715321490700207`*^9, 3.871532176199404*^9}, {
   3.87153221056612*^9, 3.8715322169615803`*^9}, {3.8715324547902436`*^9, 
   3.8715324886116233`*^9}, {3.871532564693602*^9, 3.8715325688865347`*^9}, {
   3.8715328133722796`*^9, 3.8715328468449554`*^9}, {3.87153338402831*^9, 
   3.871533446238219*^9}, {3.871534068989168*^9, 3.871534100190069*^9}, {
   3.8715341660551577`*^9, 3.8715341880829515`*^9}, {3.8715342576722097`*^9, 
   3.87153428388064*^9}, {3.8715344937034297`*^9, 3.8715345182155285`*^9}, {
   3.871534567449443*^9, 3.871534579167262*^9}, {3.8715347171741457`*^9, 
   3.87153480683084*^9}, {3.871534870891348*^9, 3.871534873869809*^9}, {
   3.871534943667256*^9, 3.871534996106014*^9}, {3.871535059379374*^9, 
   3.8715350628313417`*^9}, {3.871535099584398*^9, 3.8715351802851233`*^9}, 
   3.871535240575018*^9, {3.8715352838863606`*^9, 3.871535333194888*^9}, {
   3.871535369666049*^9, 3.8715353844485464`*^9}, {3.8715354296306267`*^9, 
   3.8715354314111443`*^9}, {3.871535463808547*^9, 3.871535466024516*^9}, {
   3.8715355054730453`*^9, 3.8715355559216857`*^9}, {3.871535616439418*^9, 
   3.871535635090721*^9}, {3.8715356966499243`*^9, 3.871535697005805*^9}, {
   3.8715357885753803`*^9, 3.8715357956985226`*^9}, {3.8715358410981746`*^9, 
   3.8715359183088675`*^9}, {3.8715359600637045`*^9, 
   3.8715360082223196`*^9}, {3.8715378307425995`*^9, 3.871537976550657*^9}, {
   3.8715380180472517`*^9, 3.8715380694002433`*^9}, {3.871538119178215*^9, 
   3.8715381332446914`*^9}, {3.871538249776078*^9, 3.871538513037155*^9}, {
   3.8715385858484397`*^9, 3.8715386710101013`*^9}, {3.871538837930045*^9, 
   3.87153884031808*^9}, {3.871538876898035*^9, 3.8715388774690228`*^9}, {
   3.8715389884213924`*^9, 3.8715389904023075`*^9}, {3.8715390487698965`*^9, 
   3.8715390499173956`*^9}, {3.8715395205664268`*^9, 
   3.8715395562126303`*^9}, {3.871539654262538*^9, 3.8715396622555304`*^9}, {
   3.871539913597329*^9, 3.871540022726193*^9}, {3.8715400603437357`*^9, 
   3.8715400805215893`*^9}, {3.871540447463859*^9, 3.8715405517431517`*^9}, 
   3.871540582962186*^9, {3.8715406980090227`*^9, 3.8715407389104986`*^9}, 
   3.87154076892269*^9, {3.8715409757444196`*^9, 3.871541053603828*^9}, {
   3.8715411476136246`*^9, 3.871541198972017*^9}, {3.8715413473898015`*^9, 
   3.8715413550421867`*^9}, {3.8715413888845134`*^9, 3.871541388974546*^9}, {
   3.871541438007442*^9, 3.8715414642805257`*^9}, {3.871541526935549*^9, 
   3.871541567528378*^9}, 3.8715417919402447`*^9},
 CellLabel->
  "In[118]:=",ExpressionUUID->"b6d63817-ca3a-455a-ac86-851d6ea9d58c"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"11.234375`", ",", 
   RowBox[{"{", 
    RowBox[{"997651", ",", "543"}], "}"}]}], "}"}]], "Output",
 CellChangeTimes->{
  3.8715304666473436`*^9, 3.8715316756600323`*^9, 3.8715325938555183`*^9, {
   3.871535679923563*^9, 3.8715356988054295`*^9}, 3.8715357968290606`*^9, 
   3.871537970306658*^9, {3.871538127675733*^9, 3.871538134391076*^9}, {
   3.871538242393464*^9, 3.8715382825595417`*^9}, {3.8715383316994596`*^9, 
   3.8715384790985036`*^9}, {3.871538634806608*^9, 3.871538673554242*^9}, 
   3.8715388410198774`*^9, 3.8715389599645977`*^9, 3.87153899495648*^9, 
   3.871539129398007*^9, {3.871539523880458*^9, 3.871539532915212*^9}, {
   3.871539604093464*^9, 3.8715396160679893`*^9}, 3.87153966477386*^9, {
   3.8715399450534267`*^9, 3.8715400348365197`*^9}, 3.8715405052034626`*^9, {
   3.8715405365600977`*^9, 3.8715405529051533`*^9}, 3.871540597396823*^9, 
   3.8715407090046167`*^9, {3.8715410261174383`*^9, 3.8715410547737846`*^9}, {
   3.8715411876067357`*^9, 3.871541199799241*^9}, 3.8715414277016935`*^9, 
   3.8715414651842976`*^9, 3.8715414979399867`*^9, 3.871541581096506*^9, 
   3.871541805561165*^9},
 CellLabel->
  "Out[119]=",ExpressionUUID->"59ba41d4-bb6e-41a3-ae9c-65e7ac31bf85"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"max", "=", 
   SuperscriptBox["10", "6"]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"start", "=", "1"}], ",", 
      RowBox[{"end", "=", 
       RowBox[{"PrimePi", "[", "max", "]"}]}], ",", 
      RowBox[{"sum", "=", "0"}], ",", 
      RowBox[{"nextsum", "=", "2"}], ",", 
      RowBox[{"len", "=", "0"}], ",", 
      RowBox[{"breaklen", "=", "0"}], ",", 
      RowBox[{"maxsum", "=", "0"}], ",", 
      RowBox[{"maxlen", "=", "0"}]}], "}"}], ",", 
    RowBox[{
     RowBox[{"While", "[", 
      RowBox[{
       RowBox[{"start", "<", "end"}], ",", 
       RowBox[{
        RowBox[{"i", "=", "start"}], ";", " ", 
        RowBox[{"While", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"nextsum", "<", "max"}], "&&", 
           RowBox[{"i", "<", "end"}]}], ",", 
          RowBox[{
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{"PrimeQ", "[", "nextsum", "]"}], ",", 
             RowBox[{
              RowBox[{"sum", "=", "nextsum"}], ";", 
              RowBox[{"len", "+=", "breaklen"}], ";", 
              RowBox[{"breaklen", "=", "0"}], ";", 
              RowBox[{"len", "++"}]}], ",", 
             RowBox[{"breaklen", "++"}]}], "]"}], ";", 
           RowBox[{"i", "++"}], ";", 
           RowBox[{"nextsum", "+=", 
            RowBox[{"Prime", "[", "i", "]"}]}]}]}], "]"}], ";", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"len", ">", "maxlen"}], ",", 
          RowBox[{
           RowBox[{"maxlen", "=", "len"}], ";", 
           RowBox[{"maxsum", "=", "sum"}]}]}], "]"}], ";", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"maxsum", "+", 
            RowBox[{"Prime", "[", 
             RowBox[{"maxlen", "+", "start", "-", "1"}], "]"}]}], ">", 
           "max"}], ",", 
          RowBox[{"Break", "[", "]"}]}], "]"}], ";", 
        RowBox[{"(*", 
         RowBox[{
         "\:8fd9\:53e5If\:662f\:6700\:540e\:52a0\:7684\:94a9\:5b50", "\:ff0c",
           "\:80fd\:6781\:5927\:5730\:51cf\:5c11\:8ba1\:7b97\:91cf", "\:ff0c",
           "\:6ca1\:6709\:8fd9\:53e5\:8ba1\:7b97\:65f6\:95f4\:4e3a11\:79d2"}],
          "*)"}], 
        RowBox[{"start", "+=", "1"}], ";", 
        RowBox[{"sum", "=", "0"}], ";", 
        RowBox[{"nextsum", "=", 
         RowBox[{"Prime", "[", "start", "]"}]}], ";", 
        RowBox[{"len", "=", "0"}], ";", 
        RowBox[{"breaklen", "=", "0"}]}]}], "]"}], ";", 
     RowBox[{"{", 
      RowBox[{"maxsum", ",", "maxlen"}], "}"}]}]}], "]"}], "//", 
  "Timing"}]}], "Input",
 CellLabel->
  "In[120]:=",ExpressionUUID->"df4843a9-fd71-456e-9480-00ea08ceae5a"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"0.`", ",", 
   RowBox[{"{", 
    RowBox[{"997651", ",", "543"}], "}"}]}], "}"}]], "Output",
 CellChangeTimes->{3.8715418089662066`*^9},
 CellLabel->
  "Out[121]=",ExpressionUUID->"9d782ae6-aefa-4abf-b1fe-fb7f5709a74a"]
}, Open  ]]
},
WindowSize->{590, 714},
WindowMargins->{{Automatic, 318}, {125, Automatic}},
FrontEndVersion->"12.3 for Microsoft Windows (64-bit) (2021\:5e747\:670823\
\:65e5)",
StyleDefinitions->"Default.nb",
ExpressionUUID->"1bdf0d37-d3bb-4b00-a026-f008be5d70c9"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[580, 22, 5835, 108, 592, "Input",ExpressionUUID->"b6d63817-ca3a-455a-ac86-851d6ea9d58c"],
Cell[6418, 132, 1242, 21, 37, "Output",ExpressionUUID->"59ba41d4-bb6e-41a3-ae9c-65e7ac31bf85"]
}, Open  ]],
Cell[CellGroupData[{
Cell[7697, 158, 2721, 72, 664, "Input",ExpressionUUID->"df4843a9-fd71-456e-9480-00ea08ceae5a"],
Cell[10421, 232, 258, 7, 59, "Output",ExpressionUUID->"9d782ae6-aefa-4abf-b1fe-fb7f5709a74a"]
}, Open  ]]
}
]
*)

